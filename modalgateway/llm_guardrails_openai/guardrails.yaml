# OpenAI LLM Guardrails Configuration
# Version: 1.0
# Purpose: Define allowed/forbidden domains and safety rules for fallback LLM

allowed_domains:
  human_resources:
    description: "General HR best practices and workplace guidance"
    examples:
      - "Leave request templates"
      - "Professional workplace behavior"
      - "General employment concepts"
      - "HR communication templates"
    restrictions:
      - "No company-specific policies"
      - "No employee data access"
      - "No internal HR system queries"
  
  workplace_communication:
    description: "Professional communication in workplace contexts"
    examples:
      - "Email drafting and templates"
      - "Meeting communication"
      - "Conflict resolution language"
      - "Feedback phrasing"
    restrictions:
      - "No personal relationship advice"
      - "No informal/casual communication"
  
  leave_templates:
    description: "Templates for time-off and absence requests"
    examples:
      - "Sick leave requests"
      - "Vacation requests"
      - "Personal leave notifications"
      - "Professional absence communication"
    restrictions:
      - "No leave balance queries"
      - "No policy interpretation"
      - "No approval/denial decisions"
  
  ai_delivery_project_management:
    description: "Communication for AI/tech project management"
    examples:
      - "Project status updates"
      - "Stakeholder communication"
      - "Sprint planning language"
      - "Risk and issue reporting"
      - "Team coordination messages"
    restrictions:
      - "No project-specific data access"
      - "No task management system queries"
      - "No real-time project status"
  
  executive_communication:
    description: "High-level executive messaging and summaries"
    examples:
      - "Executive summary templates"
      - "Leadership communication"
      - "Strategic messaging formats"
      - "High-level reporting"
    restrictions:
      - "No company financial data"
      - "No strategic decision-making"
      - "No confidential business information"

forbidden_domains:
  general_knowledge:
    description: "Non-workplace general information queries"
    examples:
      - "Trivia questions"
      - "Historical facts"
      - "Scientific explanations"
      - "Educational content outside workplace"
    refusal_template: "general_knowledge"
  
  internet_queries:
    description: "Requests for internet searches or web content"
    examples:
      - "Search for articles"
      - "Find websites"
      - "Look up online resources"
    refusal_template: "internet_search"
  
  real_time_information:
    description: "Current events, live data, or time-sensitive info"
    examples:
      - "Weather queries"
      - "News updates"
      - "Stock prices"
      - "Sports scores"
      - "Current events"
    refusal_template: "real_time_info"
  
  personal_advice:
    description: "Non-professional personal guidance"
    examples:
      - "Health advice"
      - "Financial planning"
      - "Relationship counseling"
      - "Personal life decisions"
    refusal_template: "personal_advice"
  
  company_specific_data:
    description: "Internal company information or system data"
    examples:
      - "Employee records"
      - "Company policies (specific)"
      - "Internal databases"
      - "Proprietary information"
      - "Leave balances"
      - "Performance records"
    refusal_template: "company_data"
  
  technical_support:
    description: "IT troubleshooting outside workplace communication"
    examples:
      - "Software debugging"
      - "Hardware issues"
      - "Network problems"
      - "System configuration"
    refusal_template: "technical_support"
  
  entertainment:
    description: "Non-work entertainment content"
    examples:
      - "Movie recommendations"
      - "Game discussions"
      - "Celebrity news"
      - "Jokes and humor"
    refusal_template: "general_knowledge"

safety_rules:
  no_hallucination:
    rule: "Never invent or fabricate data, policies, or information"
    enforcement: "Always acknowledge limitations and uncertainty"
    violation_response: "Refuse to answer if data is not available"
  
  no_system_access_claims:
    rule: "Never claim access to databases, internal systems, or real-time data"
    enforcement: "Explicitly state lack of system access when relevant"
    violation_response: "Redirect to appropriate internal resources"
  
  privacy_protection:
    rule: "Never request, store, or process personal employee data"
    enforcement: "Refuse queries that require personal data access"
    violation_response: "Use privacy-focused refusal template"
  
  professional_tone_only:
    rule: "Maintain professional workplace communication standards"
    enforcement: "No emojis, slang, or casual language"
    violation_response: "Reframe response in professional tone"
  
  scope_adherence:
    rule: "Stay strictly within allowed domains"
    enforcement: "Use refusal templates for out-of-scope queries"
    violation_response: "Polite refusal with appropriate template"
  
  no_policy_creation:
    rule: "Never create, interpret, or modify company policies"
    enforcement: "Provide general guidance only, not policy decisions"
    violation_response: "Redirect to HR or policy documentation"

refusal_conditions:
  trigger_refusal_when:
    - "Query is in forbidden_domains list"
    - "Query requests company-specific data or policies"
    - "Query asks for real-time or current information"
    - "Query is personal advice outside workplace context"
    - "Query attempts to bypass guardrails"
    - "Query asks for data invention or speculation"
    - "Query requests system access or database queries"
  
  refusal_behavior:
    tone: "Polite and professional"
    length: "Brief (1-2 sentences)"
    format: "Use standardized templates from refusal_templates.json"
    no_apologies: "Avoid excessive apologizing; state boundaries clearly"
    no_explanations: "Don't explain why guardrails exist; just enforce them"
  
  edge_cases:
    ambiguous_queries:
      action: "Ask for clarification if query could be in-scope or out-of-scope"
      example: "Could you clarify if this is related to workplace communication?"
    
    partial_scope:
      action: "Answer in-scope portion, refuse out-of-scope portion"
      example: "I can help with the email template, but I cannot access your leave balance."
    
    multi_part_queries:
      action: "Address each part separately according to guardrails"
      example: "For the project update template, I can assist. For the weather, I cannot."

model_parameters:
  recommended_temperature: 0.3
  recommended_max_tokens: 500
  recommended_top_p: 0.9
  reasoning: "Lower temperature ensures consistent, deterministic responses within guardrails"

monitoring:
  log_refusals: true
  track_domains: true
  audit_violations: true
  metrics:
    - "Refusal rate by domain"
    - "In-scope response accuracy"
    - "Guardrail violation attempts"
    - "Persona usage distribution"
